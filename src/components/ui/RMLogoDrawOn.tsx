'use client'

import * as React from 'react'

type Trigger = 'load' | 'in-view'
type DrawOrder = 'dom' | 'top-down'
type Theme = 'default' | 'light' | 'dark' | 'blue-white'

interface Props {
  trigger?: Trigger
  duration?: number
  stagger?: number
  initialDelay?: number
  easing?: string
  fadeIn?: boolean
  fadeDuration?: number
  replay?: boolean
  replayDelay?: number
  drawOrder?: DrawOrder
  ghost?: boolean
  ghostColor?: string
  ghostOpacity?: number
  ghostGap?: number
  autoPlay?: boolean
  overlap?: number
  theme?: Theme
  hoverTheme?: Theme
  isHovered?: boolean
  textColor?: string
  width?: string | number
  height?: string | number
  oncePerSession?: boolean
  sessionKey?: string
  style?: React.CSSProperties
  className?: string
}

const GLYPH_ORDER = [
  'R', 'o', 'l', 'e2', 'm', 'o3', 'd', 'e', 'l3',
  's', 'o6', 'f', 't', 'w', 'a', 'r', 'e4',
]

const STROKE_ORDER: Record<string, string[]> = {
  R: ['!R-line', '!R-body'],
  o: ['o-circle'],
  l: ['!l-stem'],
  e2: ['e2-stroke'],
  m: ['m-stroke'],
  o3: ['o3-circle'],
  d: ['!d-stem', 'd-bowl'],
  e: ['e-stroke'],
  l3: ['!l3-stem'],
  s: ['!s-curve'],
  o6: ['o6-circle'],
  f: ['!f-stem', '!f-cross'],
  t: ['!t-stem', '!t-cross'],
  w: ['!w-stroke'],
  a: ['!a-stem', '!a-bowl'],
  r: ['!r-stem', '!r-arm'],
  e4: ['e4-stroke'],
}

const SVG_MARKUP = String.raw`<svg width="100%" height="100%" viewBox="0 0 1126 433" version="1.1" xmlns="http://www.w3.org/2000/svg">
    <g id="logofav_com"></g>
    <rect id="RM-Logo-Stroked" x="0" y="-0" width="1125.461" height="432.048" style="fill:none;"/>
    <g>
        <path id="R" d="M2.46,11.424c0,-2.049 1.669,-3.706 3.733,-3.706l73.583,0c21.507,0 38.182,5.988 49.295,17.025c9.421,9.345 14.494,22.526 14.494,38.352l0,0.48c0,27.082 -14.736,44.1 -36.25,52.013l37.326,54.128c1.691,2.456 -0.081,5.799 -3.089,5.799l-34.42,0c-1.244,0 -2.416,-0.618 -3.111,-1.642l-34.398,-50.952c-0.461,-0.676 -1.244,-1.097 -2.064,-1.097l-25.423,0c-1.384,0 -2.489,1.112 -2.489,2.471l0,47.508c0,2.049 -1.669,3.699 -3.733,3.699l-29.72,0c-2.064,0 -3.733,-1.649 -3.733,-3.699l0,-160.377Zm74.901,77.787c18.118,0 28.512,-9.592 28.512,-23.725l0,-0.48c0,-15.826 -11.112,-23.972 -29.244,-23.972l-34.486,0c-1.376,0 -2.489,1.112 -2.489,2.471l0,43.235c0,1.373 1.12,2.471 2.489,2.471l35.218,0Z" style="fill:none;fill-rule:nonzero;"/>
        <clipPath id="_R"><path d="M2.46,11.424c0,-2.049 1.669,-3.706 3.733,-3.706l73.583,0c21.507,0 38.182,5.988 49.295,17.025c9.421,9.345 14.494,22.526 14.494,38.352l0,0.48c0,27.082 -14.736,44.1 -36.25,52.013l37.326,54.128c1.691,2.456 -0.081,5.799 -3.089,5.799l-34.42,0c-1.244,0 -2.416,-0.618 -3.111,-1.642l-34.398,-50.952c-0.461,-0.676 -1.244,-1.097 -2.064,-1.097l-25.423,0c-1.384,0 -2.489,1.112 -2.489,2.471l0,47.508c0,2.049 -1.669,3.699 -3.733,3.699l-29.72,0c-2.064,0 -3.733,-1.649 -3.733,-3.699l0,-160.377Zm74.901,77.787c18.118,0 28.512,-9.592 28.512,-23.725l0,-0.48c0,-15.826 -11.112,-23.972 -29.244,-23.972l-34.486,0c-1.376,0 -2.489,1.112 -2.489,2.471l0,43.235c0,1.373 1.12,2.471 2.489,2.471l35.218,0Z" clip-rule="nonzero"/></clipPath>
        <g clip-path="url(#_R)">
            <path id="R-line" d="M138.313,190.561l-61.389,-84.121" style="fill:none;stroke:#2a84f8;stroke-width:54px;"/>
            <path id="R-body" d="M20.5,106.782l63.5,0.218c23.39,-3.639 39.996,-19.329 40,-43c0.004,-19.167 -15.085,-38.465 -39,-39l-64.5,0l0,153" style="fill:none;stroke:#2a84f8;stroke-width:64px;"/>
        </g>
        <path id="o" d="M145.271,111.969l0,-0.48c0,-36.906 29.969,-66.873 70.311,-66.873c40.349,0 69.843,29.473 69.843,66.393l0,0.48c0,36.906 -29.969,66.873 -70.326,66.873c-40.357,0 -69.835,-29.473 -69.835,-66.393l0.007,0Zm103.896,0l0,-0.48c0,-18.936 -13.769,-35.475 -34.068,-35.475c-20.299,0 -33.585,16.059 -33.585,34.995l0,0.48c0,18.936 13.777,35.475 34.068,35.475c20.299,0 33.585,-16.059 33.585,-34.995Z" style="fill:none;fill-rule:nonzero;"/>
        <clipPath id="_o"><path d="M145.271,111.969l0,-0.48c0,-36.906 29.969,-66.873 70.311,-66.873c40.349,0 69.843,29.473 69.843,66.393l0,0.48c0,36.906 -29.969,66.873 -70.326,66.873c-40.357,0 -69.835,-29.473 -69.835,-66.393l0.007,0Zm103.896,0l0,-0.48c0,-18.936 -13.769,-35.475 -34.068,-35.475c-20.299,0 -33.585,16.059 -33.585,34.995l0,0.48c0,18.936 13.777,35.475 34.068,35.475c20.299,0 33.585,-16.059 33.585,-34.995Z" clip-rule="nonzero"/></clipPath>
        <g clip-path="url(#_o)"><path id="o-circle" d="M266,114c0,71.482 -103,69.482 -103,0c0,-74.482 103,-74.482 103,0Z" style="fill:none;stroke:#2a84f8;stroke-width:54px;"/></g>
        <path id="l" d="M298.104,0.524l29.259,0c2.064,0 3.733,1.657 3.733,3.706l0,167.542c0,2.049 -1.669,3.706 -3.733,3.706l-29.259,0c-2.064,0 -3.733,-1.657 -3.733,-3.706l0,-167.542c0,-2.049 1.669,-3.706 3.733,-3.706Z" style="fill:none;fill-rule:nonzero;"/>
        <clipPath id="_l"><path d="M298.104,0.524l29.259,0c2.064,0 3.733,1.657 3.733,3.706l0,167.542c0,2.049 -1.669,3.706 -3.733,3.706l-29.259,0c-2.064,0 -3.733,-1.657 -3.733,-3.706l0,-167.542c0,-2.049 1.669,-3.706 3.733,-3.706Z" clip-rule="nonzero"/></clipPath>
        <g clip-path="url(#_l)"><path id="l-stem" d="M312,177l0,-178" style="fill:none;stroke:#2a84f8;stroke-width:64px;"/></g>
        <path id="e2" d="M340.027,111.969l0,-0.48c0,-36.674 26.331,-66.873 64.038,-66.873c43.263,0 63.071,33.309 63.071,69.75c0,1.875 -0.102,3.946 -0.234,6.097c-0.124,1.947 -1.757,3.481 -3.733,3.481l-83.429,0c-1.654,0 -2.877,1.584 -2.401,3.146c4.356,14.482 15.482,22.025 30.833,22.025c11.339,0 19.801,-3.248 28.988,-11.023c1.413,-1.213 3.521,-1.213 4.912,0.022l15.79,13.864c1.559,1.359 1.706,3.728 0.315,5.254c-11.947,13.174 -28.571,21.131 -50.488,21.131c-38.9,0 -67.661,-27.075 -67.661,-66.393Zm88.407,-10.776c1.559,0 2.752,-1.402 2.452,-2.921c-2.899,-14.678 -12.305,-24.393 -26.829,-24.393c-14.523,0 -23.886,9.483 -27.407,24.306c-0.373,1.54 0.835,3.023 2.438,3.023l49.346,0l0,-0.015Z" style="fill:none;fill-rule:nonzero;"/>
        <clipPath id="_e2"><path d="M340.027,111.969l0,-0.48c0,-36.674 26.331,-66.873 64.038,-66.873c43.263,0 63.071,33.309 63.071,69.75c0,1.875 -0.102,3.946 -0.234,6.097c-0.124,1.947 -1.757,3.481 -3.733,3.481l-83.429,0c-1.654,0 -2.877,1.584 -2.401,3.146c4.356,14.482 15.482,22.025 30.833,22.025c11.339,0 19.801,-3.248 28.988,-11.023c1.413,-1.213 3.521,-1.213 4.912,0.022l15.79,13.864c1.559,1.359 1.706,3.728 0.315,5.254c-11.947,13.174 -28.571,21.131 -50.488,21.131c-38.9,0 -67.661,-27.075 -67.661,-66.393Zm88.407,-10.776c1.559,0 2.752,-1.402 2.452,-2.921c-2.899,-14.678 -12.305,-24.393 -26.829,-24.393c-14.523,0 -23.886,9.483 -27.407,24.306c-0.373,1.54 0.835,3.023 2.438,3.023l49.346,0l0,-0.015Z" clip-rule="nonzero"/></clipPath>
        <g clip-path="url(#_e2)"><path id="e2-stroke" d="M451,148c-6.78,7.206 -22.639,17.762 -46,18c-23.361,0.238 -47.996,-17 -48,-52c-0.003,-24.001 15.909,-55 47,-55c31.091,0 46.805,27.667 47,55c-0.927,-0 -1.951,-0 -3.062,-0c-24.467,-0.001 -90.938,0 -90.938,0" style="fill:none;stroke:#2a84f8;stroke-width:40px"/></g>
        <path id="m" d="M565.139,134.539c-0.988,1.468 -3.162,1.468 -4.151,0l-40.95,-60.98c-1.362,-2.049 -4.568,-1.097 -4.568,1.359l0,96.869c0,2.049 -1.669,3.706 -3.733,3.706l-29.025,0c-2.064,0 -3.733,-1.657 -3.733,-3.706l0,-160.363c0,-2.049 1.669,-3.706 3.733,-3.706l34.303,0c1.288,0 2.489,0.669 3.17,1.758l41.257,65.812c0.966,1.555 3.258,1.555 4.231,0l41.25,-65.812c0.688,-1.09 1.881,-1.758 3.177,-1.758l34.295,0c2.064,0 3.733,1.657 3.733,3.706l0,160.363c0,2.049 -1.669,3.706 -3.733,3.706l-29.493,0c-2.064,0 -3.733,-1.657 -3.733,-3.706l0,-97.588c0,-2.456 -3.214,-3.401 -4.568,-1.352l-41.44,61.692l-0.022,0Z" style="fill:none;fill-rule:nonzero;"/>
        <clipPath id="_m"><path d="M565.139,134.539c-0.988,1.468 -3.162,1.468 -4.151,0l-40.95,-60.98c-1.362,-2.049 -4.568,-1.097 -4.568,1.359l0,96.869c0,2.049 -1.669,3.706 -3.733,3.706l-29.025,0c-2.064,0 -3.733,-1.657 -3.733,-3.706l0,-160.363c0,-2.049 1.669,-3.706 3.733,-3.706l34.303,0c1.288,0 2.489,0.669 3.17,1.758l41.257,65.812c0.966,1.555 3.258,1.555 4.231,0l41.25,-65.812c0.688,-1.09 1.881,-1.758 3.177,-1.758l34.295,0c2.064,0 3.733,1.657 3.733,3.706l0,160.363c0,2.049 -1.669,3.706 -3.733,3.706l-29.493,0c-2.064,0 -3.733,-1.657 -3.733,-3.706l0,-97.588c0,-2.456 -3.214,-3.401 -4.568,-1.352l-41.44,61.692l-0.022,0Z" clip-rule="nonzero"/></clipPath>
        <g clip-path="url(#_m)"><path id="m-stroke" d="M497,178l0.5,-152.5l11.5,0l54.5,83.5l54.5,-83.5l12,0l0,152.5" style="fill:none;stroke:#2a84f8;stroke-width:54px;"/></g>
        <path id="o3" d="M659.241,111.969l0,-0.48c0,-36.906 29.969,-66.873 70.311,-66.873c40.342,0 69.843,29.473 69.843,66.393l0,0.48c0,36.906 -29.969,66.873 -70.326,66.873c-40.357,0 -69.843,-29.473 -69.843,-66.393l0.015,0Zm103.896,0l0,-0.48c0,-18.936 -13.777,-35.475 -34.068,-35.475c-20.299,0 -33.593,16.059 -33.593,34.995l0,0.48c0,18.936 13.777,35.475 34.076,35.475c20.299,0 33.585,-16.059 33.585,-34.995Z" style="fill:none;fill-rule:nonzero;"/>
        <clipPath id="_o3"><path d="M659.241,111.969l0,-0.48c0,-36.906 29.969,-66.873 70.311,-66.873c40.342,0 69.843,29.473 69.843,66.393l0,0.48c0,36.906 -29.969,66.873 -70.326,66.873c-40.357,0 -69.843,-29.473 -69.843,-66.393l0.015,0Zm103.896,0l0,-0.48c0,-18.936 -13.777,-35.475 -34.068,-35.475c-20.299,0 -33.593,16.059 -33.593,34.995l0,0.48c0,18.936 13.777,35.475 34.076,35.475c20.299,0 33.585,-16.059 33.585,-34.995Z" clip-rule="nonzero"/></clipPath>
        <g clip-path="url(#_o3)"><path id="o3-circle" d="M781.656,114c0,71.482 -103,69.482 -103,0c0,-74.482 103,-74.482 103,0Z" style="fill:none;stroke:#2a84f8;stroke-width:50px;"/></g>
        <path id="d" d="M808.676,111.49l0,-0.48c0,-42.908 28.271,-66.393 58.957,-66.393c16.602,0 27.802,6.365 36.14,14.598c1.552,1.548 4.216,0.407 4.216,-1.773l0,-53.212c0,-2.049 1.676,-3.706 3.741,-3.706l29.252,0c2.072,0 3.733,1.657 3.733,3.706l0,167.542c0,2.049 -1.662,3.706 -3.733,3.706l-29.252,0c-2.064,0 -3.741,-1.657 -3.741,-3.706l0,-7.848c0,-2.231 -2.767,-3.343 -4.29,-1.7c-8.521,9.257 -19.853,15.652 -36.052,15.652c-30.203,0 -58.957,-23.492 -58.957,-66.401l-0.015,0.015Zm99.79,0l0,-0.48c0,-21.327 -14.26,-35.475 -31.411,-35.475c-17.144,0 -31.653,13.901 -31.653,35.475l0,0.48c0,21.327 14.494,35.475 31.653,35.475c17.166,0 31.411,-14.148 31.411,-35.475Z" style="fill:none;fill-rule:nonzero;"/>
        <clipPath id="_d"><path d="M808.676,111.49l0,-0.48c0,-42.908 28.271,-66.393 58.957,-66.393c16.602,0 27.802,6.365 36.14,14.598c1.552,1.548 4.216,0.407 4.216,-1.773l0,-53.212c0,-2.049 1.676,-3.706 3.741,-3.706l29.252,0c2.072,0 3.733,1.657 3.733,3.706l0,167.542c0,2.049 -1.662,3.706 -3.733,3.706l-29.252,0c-2.064,0 -3.741,-1.657 -3.741,-3.706l0,-7.848c0,-2.231 -2.767,-3.343 -4.29,-1.7c-8.521,9.257 -19.853,15.652 -36.052,15.652c-30.203,0 -58.957,-23.492 -58.957,-66.401l-0.015,0.015Zm99.79,0l0,-0.48c0,-21.327 -14.26,-35.475 -31.411,-35.475c-17.144,0 -31.653,13.901 -31.653,35.475l0,0.48c0,21.327 14.494,35.475 31.653,35.475c17.166,0 31.411,-14.148 31.411,-35.475Z" clip-rule="nonzero"/></clipPath>
        <g clip-path="url(#_d)">
            <path id="d-stem" d="M924,178.566l0,-177.789" style="fill:none;stroke:#2a84f8;stroke-width:54px;"/>
            <path id="d-bowl" d="M924,113.976c0,35.108 -24.2,50.591 -49.299,50.451c-24.9,-0.139 -49.701,-15.623 -49.701,-50.451c0,-72.871 99,-72.871 99,0Z" style="fill:none;stroke:#2a84f8;stroke-width:54px;"/>
        </g>
        <path id="e" d="M948.955,111.969l0,-0.48c0,-36.674 26.346,-66.873 64.038,-66.873c43.263,0 63.071,33.309 63.071,69.75c0,1.875 -0.102,3.946 -0.234,6.097c-0.124,1.947 -1.757,3.481 -3.733,3.481l-83.422,0c-1.662,0 -2.877,1.584 -2.408,3.146c4.356,14.482 15.482,22.025 30.84,22.025c11.324,0 19.794,-3.248 28.981,-11.023c1.413,-1.213 3.521,-1.213 4.919,0.022l15.782,13.864c1.559,1.359 1.713,3.728 0.315,5.254c-11.939,13.174 -28.571,21.131 -50.481,21.131c-38.907,0 -67.668,-27.075 -67.668,-66.393Zm88.407,-10.776c1.559,0 2.752,-1.402 2.452,-2.921c-2.899,-14.678 -12.305,-24.393 -26.821,-24.393c-14.501,0 -23.871,9.483 -27.4,24.306c-0.373,1.54 0.842,3.023 2.445,3.023l49.339,0l-0.015,-0.015Z" style="fill:none;fill-rule:nonzero;"/>
        <clipPath id="_e"><path d="M948.955,111.969l0,-0.48c0,-36.674 26.346,-66.873 64.038,-66.873c43.263,0 63.071,33.309 63.071,69.75c0,1.875 -0.102,3.946 -0.234,6.097c-0.124,1.947 -1.757,3.481 -3.733,3.481l-83.422,0c-1.662,0 -2.877,1.584 -2.408,3.146c4.356,14.482 15.482,22.025 30.84,22.025c11.324,0 19.794,-3.248 28.981,-11.023c1.413,-1.213 3.521,-1.213 4.919,0.022l15.782,13.864c1.559,1.359 1.713,3.728 0.315,5.254c-11.939,13.174 -28.571,21.131 -50.481,21.131c-38.907,0 -67.668,-27.075 -67.668,-66.393Zm88.407,-10.776c1.559,0 2.752,-1.402 2.452,-2.921c-2.899,-14.678 -12.305,-24.393 -26.821,-24.393c-14.501,0 -23.871,9.483 -27.4,24.306c-0.373,1.54 0.842,3.023 2.445,3.023l49.339,0l-0.015,-0.015Z" clip-rule="nonzero"/></clipPath>
        <g clip-path="url(#_e)"><path id="e-stroke" d="M1061.102,148c-6.78,7.206 -22.639,17.762 -46,18c-23.361,0.238 -47.996,-17 -48,-52c-0.003,-24.001 15.909,-55 47,-55c31.091,0 46.805,27.667 47,55c-0.927,-0 -1.951,-0 -3.062,-0c-24.467,-0.001 -90.938,0 -90.938,0" style="fill:none;stroke:#2a84f8;stroke-width:54px;"/></g>
        <path id="l3" d="M1089.475,0.524l29.252,0c2.072,0 3.733,1.657 3.733,3.706l0,167.542c0,2.049 -1.662,3.706 -3.733,3.706l-29.252,0c-2.064,0 -3.741,-1.657 -3.741,-3.706l0,-167.542c0,-2.049 1.676,-3.706 3.741,-3.706Z" style="fill:none;fill-rule:nonzero;"/>
        <clipPath id="_l3"><path d="M1089.475,0.524l29.252,0c2.072,0 3.733,1.657 3.733,3.706l0,167.542c0,2.049 -1.662,3.706 -3.733,3.706l-29.252,0c-2.064,0 -3.741,-1.657 -3.741,-3.706l0,-167.542c0,-2.049 1.676,-3.706 3.741,-3.706Z" clip-rule="nonzero"/></clipPath>
        <g clip-path="url(#_l3)"><path id="l3-stem" d="M1104.683,177l0,-180" style="fill:none;stroke:#2a84f8;stroke-width:52px;"/></g>
        <path id="s" d="M98.729,365.182l6.596,-9.221c0.813,-1.126 2.364,-1.359 3.499,-0.567c12.993,9.148 27.217,14.344 41.213,14.344c14.985,0 25.862,-7.666 25.862,-19.656l0,-0.48c0,-12.462 -14.736,-17.25 -31.177,-21.807c-19.574,-5.522 -41.323,-12.222 -41.323,-34.995l0,-0.48c0,-21.334 17.883,-35.475 42.523,-35.475c14.392,0 30.313,4.716 42.831,12.331c1.179,0.712 1.567,2.231 0.856,3.408l-5.885,9.686c-0.717,1.184 -2.262,1.533 -3.448,0.814c-11.076,-6.642 -23.483,-10.653 -34.815,-10.653c-14.736,0 -24.172,7.666 -24.172,17.97l0,0.487c0,11.735 15.468,16.291 32.143,21.327c19.325,5.755 40.108,13.181 40.108,35.475l0,0.48c0,23.492 -19.574,37.153 -44.463,37.153c-17.071,0 -35.913,-6.329 -49.778,-16.713c-1.076,-0.814 -1.34,-2.318 -0.556,-3.415l-0.015,-0.015Z" style="fill:none;fill-rule:nonzero;"/>
        <clipPath id="_s"><path d="M98.729,365.182l6.596,-9.221c0.813,-1.126 2.364,-1.359 3.499,-0.567c12.993,9.148 27.217,14.344 41.213,14.344c14.985,0 25.862,-7.666 25.862,-19.656l0,-0.48c0,-12.462 -14.736,-17.25 -31.177,-21.807c-19.574,-5.522 -41.323,-12.222 -41.323,-34.995l0,-0.48c0,-21.334 17.883,-35.475 42.523,-35.475c14.392,0 30.313,4.716 42.831,12.331c1.179,0.712 1.567,2.231 0.856,3.408l-5.885,9.686c-0.717,1.184 -2.262,1.533 -3.448,0.814c-11.076,-6.642 -23.483,-10.653 -34.815,-10.653c-14.736,0 -24.172,7.666 -24.172,17.97l0,0.487c0,11.735 15.468,16.291 32.143,21.327c19.325,5.755 40.108,13.181 40.108,35.475l0,0.48c0,23.492 -19.574,37.153 -44.463,37.153c-17.071,0 -35.913,-6.329 -49.778,-16.713c-1.076,-0.814 -1.34,-2.318 -0.556,-3.415l-0.015,-0.015Z" clip-rule="nonzero"/></clipPath>
        <g clip-path="url(#_s)"><path id="s-curve" d="M99.496,362.832c13.897,10.489 32.78,16.889 49.894,16.889c24.947,0 34.773,-16.699 34.567,-29.032c-0.273,-16.313 -15.833,-23.034 -35.202,-28.847c-16.713,-5.087 -36.429,-11.669 -36.219,-31.04c0.243,-22.376 18.457,-25.157 33.225,-25.157c11.361,0 24.799,4.054 38.9,11.765" style="fill:none;stroke:#181A18;stroke-width:42px;stroke-linejoin:round;"/></g>
        <path id="o6" d="M201.498,321.577l0,-0.487c0,-34.988 27.553,-64.715 65.245,-64.715c37.692,0 64.997,29.24 64.997,64.235l0,0.48c0,11.773 -3.145,22.949 -8.754,32.597c-11.064,19.031 -31.714,32.118 -56.726,32.118c-37.699,0 -64.762,-29.24 -64.762,-64.228Zm111.151,0.007l0,-0.494c0,-26.595 -20.058,-48.409 -46.388,-48.409c-26.338,0 -45.671,21.814 -45.671,47.944l0,0.48c0,26.602 19.809,48.176 46.154,48.176c26.346,0 45.905,-21.574 45.905,-47.697Z" style="fill:none;fill-rule:nonzero;"/>
        <clipPath id="_o6"><path d="M201.498,321.577l0,-0.487c0,-34.988 27.553,-64.715 65.245,-64.715c37.692,0 64.997,29.24 64.997,64.235l0,0.48c0,11.773 -3.145,22.949 -8.754,32.597c-11.064,19.031 -31.714,32.118 -56.726,32.118c-37.699,0 -64.762,-29.24 -64.762,-64.228Zm111.151,0.007l0,-0.494c0,-26.595 -20.058,-48.409 -46.388,-48.409c-26.338,0 -45.671,21.814 -45.671,47.944l0,0.48c0,26.602 19.809,48.176 46.154,48.176c26.346,0 45.905,-21.574 45.905,-47.697Z" clip-rule="nonzero"/></clipPath>
        <g clip-path="url(#_o6)"><path id="o6-circle" d="M318.77,320.482c0,71.482 -103,69.482 -103,0c0,-74.482 103,-74.482 103,0Z" style="fill:none;stroke:#181A18;stroke-width:40px;"/></g>
        <path id="f" d="M347.42,275.311l-13.418,0c-1.376,0 -2.489,-1.112 -2.489,-2.471l0,-11.118c0,-1.373 1.12,-2.471 2.489,-2.471l13.418,0c0.688,0 1.244,-0.552 1.244,-1.235l0,-9.555c0,-14.14 3.872,-24.917 10.878,-31.878c6.281,-6.235 15.468,-9.592 26.814,-9.592c7.855,0 13.352,0.778 18.791,2.514c1.032,0.334 1.757,1.286 1.757,2.362l0,11.03c0,1.635 -1.567,2.805 -3.148,2.383c-5.278,-1.402 -9.707,-2.245 -14.97,-2.245c-14.501,0 -21.756,8.625 -21.756,26.363l0,8.829c0,0.676 0.564,1.235 1.244,1.235l35.891,0c1.384,0 2.489,1.112 2.489,2.471l0,10.871c0,1.373 -1.12,2.471 -2.489,2.471l-35.65,0c-0.688,0 -1.244,0.552 -1.244,1.235l0,103.903c0,1.373 -1.12,2.471 -2.489,2.471l-13.63,0c-1.384,0 -2.489,-1.112 -2.489,-2.471l0,-103.903c0,-0.683 -0.556,-1.235 -1.244,-1.235l0,0.036Z" style="fill:none;fill-rule:nonzero;"/>
        <clipPath id="_f"><path d="M347.42,275.311l-13.418,0c-1.376,0 -2.489,-1.112 -2.489,-2.471l0,-11.118c0,-1.373 1.12,-2.471 2.489,-2.471l13.418,0c0.688,0 1.244,-0.552 1.244,-1.235l0,-9.555c0,-14.14 3.872,-24.917 10.878,-31.878c6.281,-6.235 15.468,-9.592 26.814,-9.592c7.855,0 13.352,0.778 18.791,2.514c1.032,0.334 1.757,1.286 1.757,2.362l0,11.03c0,1.635 -1.567,2.805 -3.148,2.383c-5.278,-1.402 -9.707,-2.245 -14.97,-2.245c-14.501,0 -21.756,8.625 -21.756,26.363l0,8.829c0,0.676 0.564,1.235 1.244,1.235l35.891,0c1.384,0 2.489,1.112 2.489,2.471l0,10.871c0,1.373 -1.12,2.471 -2.489,2.471l-35.65,0c-0.688,0 -1.244,0.552 -1.244,1.235l0,103.903c0,1.373 -1.12,2.471 -2.489,2.471l-13.63,0c-1.384,0 -2.489,-1.112 -2.489,-2.471l0,-103.903c0,-0.683 -0.556,-1.235 -1.244,-1.235l0,0.036Z" clip-rule="nonzero"/></clipPath>
        <g clip-path="url(#_f)">
            <path id="f-stem" d="M359,384c0,0 0.116,-119.599 0,-144c3.069,-24.207 16.861,-26.457 47,-26" style="fill:none;stroke:#181A18;stroke-width:36px;stroke-linejoin:round;"/>
            <path id="f-cross" d="M408,265l-77,0" style="fill:none;stroke:#181A18;stroke-width:36px;stroke-linejoin:round;"/>
        </g>
        <path id="t" d="M476.381,211.41l0,46.302c0,0.676 0.564,1.228 1.244,1.228l32.407,0c1.069,0 2.028,0.683 2.364,1.693l3.821,11.357c0.534,1.606 -0.659,3.255 -2.364,3.255l-35.745,0c-0.681,0 -1.244,0.56 -1.244,1.235l0,145.859c0,1.075 -0.695,2.013 -1.713,2.347l-13.667,4.433c-1.603,0.516 -3.258,-0.669 -3.258,-2.347l0,-150.299c0,-0.683 -0.564,-1.235 -1.244,-1.235l-29.025,0c-1.376,0 -2.489,-1.112 -2.489,-2.471l0,-11.357c0,-1.366 1.12,-2.471 2.489,-2.471l29.025,0c0.681,0 1.244,-0.552 1.244,-1.228l0,-46.302c0,-1.373 1.12,-2.471 2.489,-2.471l13.191,0c1.384,0 2.489,1.112 2.489,2.471l-0.015,0Z" style="fill:none;fill-rule:nonzero;"/>
        <clipPath id="_t"><path d="M476.381,211.41l0,46.302c0,0.676 0.564,1.228 1.244,1.228l32.407,0c1.069,0 2.028,0.683 2.364,1.693l3.821,11.357c0.534,1.606 -0.659,3.255 -2.364,3.255l-35.745,0c-0.681,0 -1.244,0.56 -1.244,1.235l0,145.859c0,1.075 -0.695,2.013 -1.713,2.347l-13.667,4.433c-1.603,0.516 -3.258,-0.669 -3.258,-2.347l0,-150.299c0,-0.683 -0.564,-1.235 -1.244,-1.235l-29.025,0c-1.376,0 -2.489,-1.112 -2.489,-2.471l0,-11.357c0,-1.366 1.12,-2.471 2.489,-2.471l29.025,0c0.681,0 1.244,-0.552 1.244,-1.228l0,-46.302c0,-1.373 1.12,-2.471 2.489,-2.471l13.191,0c1.384,0 2.489,1.112 2.489,2.471l-0.015,0Z" clip-rule="nonzero"/></clipPath>
        <g clip-path="url(#_t)">
            <path id="t-stem" d="M469.171,431.698c-1.002,-2.539 -1.145,-4.616 -1.145,-4.616l0,-220.699" style="fill:none;stroke:#2a84f8;stroke-width:30px;stroke-linejoin:round;"/>
            <path id="t-cross" d="M514.839,269c0,0 -3.042,1 -4.655,1l-84.345,0" style="fill:none;stroke:#2a84f8;stroke-width:30px;stroke-linejoin:round;"/>
        </g>
        <path id="w" d="M535.317,259.005l14.516,0c1.076,0 2.028,0.69 2.357,1.7l31.126,94.216c0.373,1.141 1.991,1.141 2.364,0l31.836,-94.711c0.337,-1.01 1.296,-1.686 2.364,-1.686l11.873,0c1.069,0 2.013,0.676 2.364,1.679l32.063,94.732c0.388,1.126 1.998,1.126 2.372,0l31.133,-94.231c0.337,-1.01 1.296,-1.7 2.364,-1.7l14.011,0c1.72,0 2.913,1.679 2.35,3.284l-42.231,119.925c-0.351,0.988 -1.296,1.657 -2.357,1.657l-12.642,0c-1.069,0 -2.013,-0.683 -2.35,-1.679l-31.836,-92.698c-0.388,-1.112 -1.962,-1.112 -2.35,0l-32.07,92.698c-0.351,0.996 -1.296,1.664 -2.35,1.664l-12.884,0c-1.054,0 -1.998,-0.669 -2.35,-1.657l-42.004,-119.925c-0.556,-1.606 0.637,-3.284 2.357,-3.284l-0.029,0.015Z" style="fill:none;fill-rule:nonzero;"/>
        <clipPath id="_w"><path d="M535.317,259.005l14.516,0c1.076,0 2.028,0.69 2.357,1.7l31.126,94.216c0.373,1.141 1.991,1.141 2.364,0l31.836,-94.711c0.337,-1.01 1.296,-1.686 2.364,-1.686l11.873,0c1.069,0 2.013,0.676 2.364,1.679l32.063,94.732c0.388,1.126 1.998,1.126 2.372,0l31.133,-94.231c0.337,-1.01 1.296,-1.7 2.364,-1.7l14.011,0c1.72,0 2.913,1.679 2.35,3.284l-42.231,119.925c-0.351,0.988 -1.296,1.657 -2.357,1.657l-12.642,0c-1.069,0 -2.013,-0.683 -2.35,-1.679l-31.836,-92.698c-0.388,-1.112 -1.962,-1.112 -2.35,0l-32.07,92.698c-0.351,0.996 -1.296,1.664 -2.35,1.664l-12.884,0c-1.054,0 -1.998,-0.669 -2.35,-1.657l-42.004,-119.925c-0.556,-1.606 0.637,-3.284 2.357,-3.284l-0.029,0.015Z" clip-rule="nonzero"/></clipPath>
        <g clip-path="url(#_w)"><path id="w-stroke" d="M712,253l-44,131l-41.596,-121.074l-42.404,122.074l-44.683,-133" style="fill:none;stroke:#181A18;stroke-width:46px;"/></g>
        <path id="a" d="M716.918,346.973l0,-0.48c0,-26.602 21.756,-40.51 53.401,-40.51c15.197,0 26.009,1.962 36.594,4.839c0.805,0.211 1.581,-0.371 1.581,-1.184l0,-2.209c0,-22.046 -13.521,-33.564 -36.967,-33.564c-13.704,0 -24.706,3.11 -35.503,7.79c-1.318,0.567 -2.862,-0.058 -3.36,-1.41l-3.843,-10.442c-0.454,-1.221 0.124,-2.58 1.318,-3.11c13.03,-5.711 25.884,-9.599 43.307,-9.599c17.422,0 31.404,4.789 40.357,13.661c8.696,8.625 13.052,20.615 13.052,36.427l0,73.267c0,1.373 -1.12,2.471 -2.489,2.471l-13.381,0c-1.376,0 -2.489,-1.112 -2.489,-2.471l0,-12.564c0,-1.148 -1.413,-1.664 -2.181,-0.799c-8.843,9.948 -22.532,18.471 -42.758,18.471c-23.454,0 -46.645,-13.181 -46.645,-38.585l0.007,0Zm91.818,-9.584l0,-10.565c0,-0.56 -0.359,-1.039 -0.9,-1.192c-9.07,-2.551 -20.855,-5.021 -35.584,-5.021c-23.198,0 -36.492,10.071 -36.492,24.924l0,0.48c0,15.579 14.501,24.684 31.411,24.684c22.956,0 41.564,-13.661 41.564,-33.309Z" style="fill:none;fill-rule:nonzero;"/>
        <clipPath id="_a"><path d="M716.918,346.973l0,-0.48c0,-26.602 21.756,-40.51 53.401,-40.51c15.197,0 26.009,1.962 36.594,4.839c0.805,0.211 1.581,-0.371 1.581,-1.184l0,-2.209c0,-22.046 -13.521,-33.564 -36.967,-33.564c-13.704,0 -24.706,3.11 -35.503,7.79c-1.318,0.567 -2.862,-0.058 -3.36,-1.41l-3.843,-10.442c-0.454,-1.221 0.124,-2.58 1.318,-3.11c13.03,-5.711 25.884,-9.599 43.307,-9.599c17.422,0 31.404,4.789 40.357,13.661c8.696,8.625 13.052,20.615 13.052,36.427l0,73.267c0,1.373 -1.12,2.471 -2.489,2.471l-13.381,0c-1.376,0 -2.489,-1.112 -2.489,-2.471l0,-12.564c0,-1.148 -1.413,-1.664 -2.181,-0.799c-8.843,9.948 -22.532,18.471 -42.758,18.471c-23.454,0 -46.645,-13.181 -46.645,-38.585l0.007,0Zm91.818,-9.584l0,-10.565c0,-0.56 -0.359,-1.039 -0.9,-1.192c-9.07,-2.551 -20.855,-5.021 -35.584,-5.021c-23.198,0 -36.492,10.071 -36.492,24.924l0,0.48c0,15.579 14.501,24.684 31.411,24.684c22.956,0 41.564,-13.661 41.564,-33.309Z" clip-rule="nonzero"/></clipPath>
        <g clip-path="url(#_a)">
            <path id="a-stem" d="M819.528,387c-0,-49.651 2.932,-82.443 -6.493,-99.865c-13.689,-25.306 -45.682,-22.409 -81.035,-8.135" style="fill:none;stroke:#181A18;stroke-width:38px;"/>
            <path id="a-bowl" d="M818.528,338c-3.715,41.903 -92.385,58.305 -92.528,9c-0.157,-54.311 92.528,-24.762 92.528,-24.762" style="fill:none;stroke:#181A18;stroke-width:38px;"/>
        </g>
        <path id="r" d="M913.518,274.338c0,1.308 -1.018,2.405 -2.335,2.463c-26.316,1.09 -48.614,20.44 -48.614,56.758l0,46.905c0,1.366 -1.12,2.471 -2.482,2.471l-13.63,0c-1.384,0 -2.489,-1.112 -2.489,-2.471l0,-118.98c0,-1.366 1.12,-2.463 2.489,-2.463l13.63,0c1.376,0 2.482,1.112 2.482,2.463l0,24.539c0,1.286 1.735,1.715 2.328,0.596c9.348,-17.381 25.489,-29.64 46.081,-29.8c1.391,0 2.525,1.097 2.525,2.485l0,15.041l0.015,-0.007Z" style="fill:none;fill-rule:nonzero;"/>
        <clipPath id="_r"><path d="M913.518,274.338c0,1.308 -1.018,2.405 -2.335,2.463c-26.316,1.09 -48.614,20.44 -48.614,56.758l0,46.905c0,1.366 -1.12,2.471 -2.482,2.471l-13.63,0c-1.384,0 -2.489,-1.112 -2.489,-2.471l0,-118.98c0,-1.366 1.12,-2.463 2.489,-2.463l13.63,0c1.376,0 2.482,1.112 2.482,2.463l0,24.539c0,1.286 1.735,1.715 2.328,0.596c9.348,-17.381 25.489,-29.64 46.081,-29.8c1.391,0 2.525,1.097 2.525,2.485l0,15.041l0.015,-0.007Z" clip-rule="nonzero"/></clipPath>
        <g clip-path="url(#_r)">
            <path id="r-stem" d="M854,387l0,-133" style="fill:none;stroke:#181A18;stroke-width:34px;"/>
            <path id="r-arm" d="M854,336c0.042,-36.604 37.377,-67.18 60.566,-67.18" style="fill:none;stroke:#181A18;stroke-width:34px;"/>
        </g>
        <path id="e4" d="M971.311,369.746c16.251,0 27.949,-6.227 37.765,-15.855c0.937,-0.916 2.416,-0.93 3.389,-0.065l7.95,7.063c1.047,0.937 1.105,2.543 0.139,3.553c-12.239,12.847 -27.129,21.363 -49.734,21.363c-34.303,0 -62.339,-26.13 -62.339,-64.715c0,-35.954 25.372,-64.715 59.924,-64.715c36.975,0 58.24,29.24 58.24,65.681c0,1.17 0,2.456 -0.081,4.106c-0.059,1.322 -1.157,2.362 -2.489,2.362l-95.339,0c-0.747,0 -1.347,0.654 -1.244,1.381c3.184,25.265 22.224,39.835 43.819,39.835l0,0.007Zm35.093,-56.082c0.747,0 1.332,-0.647 1.237,-1.373c-2.555,-21.93 -15.578,-40.321 -39.72,-40.321c-21.075,0 -37.289,17.04 -40.415,40.307c-0.102,0.741 0.498,1.395 1.244,1.395l77.653,0l0,-0.007Z" style="fill:none;fill-rule:nonzero;"/>
        <clipPath id="_e4"><path d="M971.311,369.746c16.251,0 27.949,-6.227 37.765,-15.855c0.937,-0.916 2.416,-0.93 3.389,-0.065l7.95,7.063c1.047,0.937 1.105,2.543 0.139,3.553c-12.239,12.847 -27.129,21.363 -49.734,21.363c-34.303,0 -62.339,-26.13 -62.339,-64.715c0,-35.954 25.372,-64.715 59.924,-64.715c36.975,0 58.24,29.24 58.24,65.681c0,1.17 0,2.456 -0.081,4.106c-0.059,1.322 -1.157,2.362 -2.489,2.362l-95.339,0c-0.747,0 -1.347,0.654 -1.244,1.381c3.184,25.265 22.224,39.835 43.819,39.835l0,0.007Zm35.093,-56.082c0.747,0 1.332,-0.647 1.237,-1.373c-2.555,-21.93 -15.578,-40.321 -39.72,-40.321c-21.075,0 -37.289,17.04 -40.415,40.307c-0.102,0.741 0.498,1.395 1.244,1.395l77.653,0l0,-0.007Z" clip-rule="nonzero"/></clipPath>
        <g clip-path="url(#_e4)"><path id="e4-stroke" d="M1014.471,354.485c-6.78,7.206 -22.639,17.762 -46,18c-23.361,0.238 -47.996,-17 -48,-52c-0.003,-24.001 15.909,-55 47,-55c31.091,0 46.805,27.667 47,55c-0.927,-0 -1.951,-0 -3.062,-0c-24.467,-0.001 -90.938,0 -90.938,0" style="fill:none;stroke:#181A18;stroke-width:38px;"/></g>
    </g>
</svg>`

const STATIC_SVG_MARKUP = String.raw`<svg width="100%" height="100%" viewBox="0 0 1126 433" xmlns="http://www.w3.org/2000/svg">
    <path d="M2.46,11.424c0,-2.049 1.669,-3.706 3.733,-3.706l73.583,0c21.507,0 38.182,5.988 49.295,17.025c9.421,9.345 14.494,22.526 14.494,38.352l0,0.48c0,27.082 -14.736,44.1 -36.25,52.013l37.326,54.128c1.691,2.456 -0.081,5.799 -3.089,5.799l-34.42,0c-1.244,0 -2.416,-0.618 -3.111,-1.642l-34.398,-50.952c-0.461,-0.676 -1.244,-1.097 -2.064,-1.097l-25.423,0c-1.384,0 -2.489,1.112 -2.489,2.471l0,47.508c0,2.049 -1.669,3.699 -3.733,3.699l-29.72,0c-2.064,0 -3.733,-1.649 -3.733,-3.699l0,-160.377Zm74.901,77.787c18.118,0 28.512,-9.592 28.512,-23.725l0,-0.48c0,-15.826 -11.112,-23.972 -29.244,-23.972l-34.486,0c-1.376,0 -2.489,1.112 -2.489,2.471l0,43.235c0,1.373 1.12,2.471 2.489,2.471l35.218,0Z" fill="#2a84f8" fill-rule="nonzero"/>
    <path d="M145.271,111.969l0,-0.48c0,-36.906 29.969,-66.873 70.311,-66.873c40.349,0 69.843,29.473 69.843,66.393l0,0.48c0,36.906 -29.969,66.873 -70.326,66.873c-40.357,0 -69.835,-29.473 -69.835,-66.393l0.007,0Zm103.896,0l0,-0.48c0,-18.936 -13.769,-35.475 -34.068,-35.475c-20.299,0 -33.585,16.059 -33.585,34.995l0,0.48c0,18.936 13.777,35.475 34.068,35.475c20.299,0 33.585,-16.059 33.585,-34.995Z" fill="#2a84f8" fill-rule="nonzero"/>
    <path d="M298.104,0.524l29.259,0c2.064,0 3.733,1.657 3.733,3.706l0,167.542c0,2.049 -1.669,3.706 -3.733,3.706l-29.259,0c-2.064,0 -3.733,-1.657 -3.733,-3.706l0,-167.542c0,-2.049 1.669,-3.706 3.733,-3.706Z" fill="#2a84f8" fill-rule="nonzero"/>
    <path d="M340.027,111.969l0,-0.48c0,-36.674 26.331,-66.873 64.038,-66.873c43.263,0 63.071,33.309 63.071,69.75c0,1.875 -0.102,3.946 -0.234,6.097c-0.124,1.947 -1.757,3.481 -3.733,3.481l-83.429,0c-1.654,0 -2.877,1.584 -2.401,3.146c4.356,14.482 15.482,22.025 30.833,22.025c11.339,0 19.801,-3.248 28.988,-11.023c1.413,-1.213 3.521,-1.213 4.912,0.022l15.79,13.864c1.559,1.359 1.706,3.728 0.315,5.254c-11.947,13.174 -28.571,21.131 -50.488,21.131c-38.9,0 -67.661,-27.075 -67.661,-66.393Zm88.407,-10.776c1.559,0 2.752,-1.402 2.452,-2.921c-2.899,-14.678 -12.305,-24.393 -26.829,-24.393c-14.523,0 -23.886,9.483 -27.407,24.306c-0.373,1.54 0.835,3.023 2.438,3.023l49.346,0l0,-0.015Z" fill="#2a84f8" fill-rule="nonzero"/>
    <path d="M565.139,134.539c-0.988,1.468 -3.162,1.468 -4.151,0l-40.95,-60.98c-1.362,-2.049 -4.568,-1.097 -4.568,1.359l0,96.869c0,2.049 -1.669,3.706 -3.733,3.706l-29.025,0c-2.064,0 -3.733,-1.657 -3.733,-3.706l0,-160.363c0,-2.049 1.669,-3.706 3.733,-3.706l34.303,0c1.288,0 2.489,0.669 3.17,1.758l41.257,65.812c0.966,1.555 3.258,1.555 4.231,0l41.25,-65.812c0.688,-1.09 1.881,-1.758 3.177,-1.758l34.295,0c2.064,0 3.733,1.657 3.733,3.706l0,160.363c0,2.049 -1.669,3.706 -3.733,3.706l-29.493,0c-2.064,0 -3.733,-1.657 -3.733,-3.706l0,-97.588c0,-2.456 -3.214,-3.401 -4.568,-1.352l-41.44,61.692l-0.022,0Z" fill="#2a84f8" fill-rule="nonzero"/>
    <path d="M659.241,111.969l0,-0.48c0,-36.906 29.969,-66.873 70.311,-66.873c40.342,0 69.843,29.473 69.843,66.393l0,0.48c0,36.906 -29.969,66.873 -70.326,66.873c-40.357,0 -69.843,-29.473 -69.843,-66.393l0.015,0Zm103.896,0l0,-0.48c0,-18.936 -13.777,-35.475 -34.068,-35.475c-20.299,0 -33.593,16.059 -33.593,34.995l0,0.48c0,18.936 13.777,35.475 34.076,35.475c20.299,0 33.585,-16.059 33.585,-34.995Z" fill="#2a84f8" fill-rule="nonzero"/>
    <path d="M808.676,111.49l0,-0.48c0,-42.908 28.271,-66.393 58.957,-66.393c16.602,0 27.802,6.365 36.14,14.598c1.552,1.548 4.216,0.407 4.216,-1.773l0,-53.212c0,-2.049 1.676,-3.706 3.741,-3.706l29.252,0c2.072,0 3.733,1.657 3.733,3.706l0,167.542c0,2.049 -1.662,3.706 -3.733,3.706l-29.252,0c-2.064,0 -3.741,-1.657 -3.741,-3.706l0,-7.848c0,-2.231 -2.767,-3.343 -4.29,-1.7c-8.521,9.257 -19.853,15.652 -36.052,15.652c-30.203,0 -58.957,-23.492 -58.957,-66.401l-0.015,0.015Zm99.79,0l0,-0.48c0,-21.327 -14.26,-35.475 -31.411,-35.475c-17.144,0 -31.653,13.901 -31.653,35.475l0,0.48c0,21.327 14.494,35.475 31.653,35.475c17.166,0 31.411,-14.148 31.411,-35.475Z" fill="#2a84f8" fill-rule="nonzero"/>
    <path d="M948.955,111.969l0,-0.48c0,-36.674 26.346,-66.873 64.038,-66.873c43.263,0 63.071,33.309 63.071,69.75c0,1.875 -0.102,3.946 -0.234,6.097c-0.124,1.947 -1.757,3.481 -3.733,3.481l-83.422,0c-1.662,0 -2.877,1.584 -2.408,3.146c4.356,14.482 15.482,22.025 30.84,22.025c11.324,0 19.794,-3.248 28.981,-11.023c1.413,-1.213 3.521,-1.213 4.919,0.022l15.782,13.864c1.559,1.359 1.713,3.728 0.315,5.254c-11.939,13.174 -28.571,21.131 -50.481,21.131c-38.907,0 -67.668,-27.075 -67.668,-66.393Zm88.407,-10.776c1.559,0 2.752,-1.402 2.452,-2.921c-2.899,-14.678 -12.305,-24.393 -26.821,-24.393c-14.501,0 -23.871,9.483 -27.4,24.306c-0.373,1.54 0.842,3.023 2.445,3.023l49.339,0l-0.015,-0.015Z" fill="#2a84f8" fill-rule="nonzero"/>
    <path d="M1089.475,0.524l29.252,0c2.072,0 3.733,1.657 3.733,3.706l0,167.542c0,2.049 -1.662,3.706 -3.733,3.706l-29.252,0c-2.064,0 -3.741,-1.657 -3.741,-3.706l0,-167.542c0,-2.049 1.676,-3.706 3.741,-3.706Z" fill="#2a84f8" fill-rule="nonzero"/>
    <path d="M98.729,365.182l6.596,-9.221c0.813,-1.126 2.364,-1.359 3.499,-0.567c12.993,9.148 27.217,14.344 41.213,14.344c14.985,0 25.862,-7.666 25.862,-19.656l0,-0.48c0,-12.462 -14.736,-17.25 -31.177,-21.807c-19.574,-5.522 -41.323,-12.222 -41.323,-34.995l0,-0.48c0,-21.334 17.883,-35.475 42.523,-35.475c14.392,0 30.313,4.716 42.831,12.331c1.179,0.712 1.567,2.231 0.856,3.408l-5.885,9.686c-0.717,1.184 -2.262,1.533 -3.448,0.814c-11.076,-6.642 -23.483,-10.653 -34.815,-10.653c-14.736,0 -24.172,7.666 -24.172,17.97l0,0.487c0,11.735 15.468,16.291 32.143,21.327c19.325,5.755 40.108,13.181 40.108,35.475l0,0.48c0,23.492 -19.574,37.153 -44.463,37.153c-17.071,0 -35.913,-6.329 -49.778,-16.713c-1.076,-0.814 -1.34,-2.318 -0.556,-3.415l-0.015,-0.015Z" fill="#181A18" fill-rule="nonzero"/>
    <path d="M201.498,321.577l0,-0.487c0,-34.988 27.553,-64.715 65.245,-64.715c37.692,0 64.997,29.24 64.997,64.235l0,0.48c0,11.773 -3.145,22.949 -8.754,32.597c-11.064,19.031 -31.714,32.118 -56.726,32.118c-37.699,0 -64.762,-29.24 -64.762,-64.228Zm111.151,0.007l0,-0.494c0,-26.595 -20.058,-48.409 -46.388,-48.409c-26.338,0 -45.671,21.814 -45.671,47.944l0,0.48c0,26.602 19.809,48.176 46.154,48.176c26.346,0 45.905,-21.574 45.905,-47.697Z" fill="#181A18" fill-rule="nonzero"/>
    <path d="M347.42,275.311l-13.418,0c-1.376,0 -2.489,-1.112 -2.489,-2.471l0,-11.118c0,-1.373 1.12,-2.471 2.489,-2.471l13.418,0c0.688,0 1.244,-0.552 1.244,-1.235l0,-9.555c0,-14.14 3.872,-24.917 10.878,-31.878c6.281,-6.235 15.468,-9.592 26.814,-9.592c7.855,0 13.352,0.778 18.791,2.514c1.032,0.334 1.757,1.286 1.757,2.362l0,11.03c0,1.635 -1.567,2.805 -3.148,2.383c-5.278,-1.402 -9.707,-2.245 -14.97,-2.245c-14.501,0 -21.756,8.625 -21.756,26.363l0,8.829c0,0.676 0.564,1.235 1.244,1.235l35.891,0c1.384,0 2.489,1.112 2.489,2.471l0,10.871c0,1.373 -1.12,2.471 -2.489,2.471l-35.65,0c-0.688,0 -1.244,0.552 -1.244,1.235l0,103.903c0,1.373 -1.12,2.471 -2.489,2.471l-13.63,0c-1.384,0 -2.489,-1.112 -2.489,-2.471l0,-103.903c0,-0.683 -0.556,-1.235 -1.244,-1.235l0,0.036Z" fill="#181A18" fill-rule="nonzero"/>
    <path d="M476.381,211.41l0,46.302c0,0.676 0.564,1.228 1.244,1.228l32.407,0c1.069,0 2.028,0.683 2.364,1.693l3.821,11.357c0.534,1.606 -0.659,3.255 -2.364,3.255l-35.745,0c-0.681,0 -1.244,0.56 -1.244,1.235l0,145.859c0,1.075 -0.695,2.013 -1.713,2.347l-13.667,4.433c-1.603,0.516 -3.258,-0.669 -3.258,-2.347l0,-150.299c0,-0.683 -0.564,-1.235 -1.244,-1.235l-29.025,0c-1.376,0 -2.489,-1.112 -2.489,-2.471l0,-11.357c0,-1.366 1.12,-2.471 2.489,-2.471l29.025,0c0.681,0 1.244,-0.552 1.244,-1.228l0,-46.302c0,-1.373 1.12,-2.471 2.489,-2.471l13.191,0c1.384,0 2.489,1.112 2.489,2.471l-0.015,0Z" fill="#2a84f8" fill-rule="nonzero"/>
    <path d="M535.317,259.005l14.516,0c1.076,0 2.028,0.69 2.357,1.7l31.126,94.216c0.373,1.141 1.991,1.141 2.364,0l31.836,-94.711c0.337,-1.01 1.296,-1.686 2.364,-1.686l11.873,0c1.069,0 2.013,0.676 2.364,1.679l32.063,94.732c0.388,1.126 1.998,1.126 2.372,0l31.133,-94.231c0.337,-1.01 1.296,-1.7 2.364,-1.7l14.011,0c1.72,0 2.913,1.679 2.35,3.284l-42.231,119.925c-0.351,0.988 -1.296,1.657 -2.357,1.657l-12.642,0c-1.069,0 -2.013,-0.683 -2.35,-1.679l-31.836,-92.698c-0.388,-1.112 -1.962,-1.112 -2.35,0l-32.07,92.698c-0.351,0.996 -1.296,1.664 -2.35,1.664l-12.884,0c-1.054,0 -1.998,-0.669 -2.35,-1.657l-42.004,-119.925c-0.556,-1.606 0.637,-3.284 2.357,-3.284l-0.029,0.015Z" fill="#181A18" fill-rule="nonzero"/>
    <path d="M716.918,346.973l0,-0.48c0,-26.602 21.756,-40.51 53.401,-40.51c15.197,0 26.009,1.962 36.594,4.839c0.805,0.211 1.581,-0.371 1.581,-1.184l0,-2.209c0,-22.046 -13.521,-33.564 -36.967,-33.564c-13.704,0 -24.706,3.11 -35.503,7.79c-1.318,0.567 -2.862,-0.058 -3.36,-1.41l-3.843,-10.442c-0.454,-1.221 0.124,-2.58 1.318,-3.11c13.03,-5.711 25.884,-9.599 43.307,-9.599c17.422,0 31.404,4.789 40.357,13.661c8.696,8.625 13.052,20.615 13.052,36.427l0,73.267c0,1.373 -1.12,2.471 -2.489,2.471l-13.381,0c-1.376,0 -2.489,-1.112 -2.489,-2.471l0,-12.564c0,-1.148 -1.413,-1.664 -2.181,-0.799c-8.843,9.948 -22.532,18.471 -42.758,18.471c-23.454,0 -46.645,-13.181 -46.645,-38.585l0.007,0Zm91.818,-9.584l0,-10.565c0,-0.56 -0.359,-1.039 -0.9,-1.192c-9.07,-2.551 -20.855,-5.021 -35.584,-5.021c-23.198,0 -36.492,10.071 -36.492,24.924l0,0.48c0,15.579 14.501,24.684 31.411,24.684c22.956,0 41.564,-13.661 41.564,-33.309Z" fill="#181A18" fill-rule="nonzero"/>
    <path d="M913.518,274.338c0,1.308 -1.018,2.405 -2.335,2.463c-26.316,1.09 -48.614,20.44 -48.614,56.758l0,46.905c0,1.366 -1.12,2.471 -2.482,2.471l-13.63,0c-1.384,0 -2.489,-1.112 -2.489,-2.471l0,-118.98c0,-1.366 1.12,-2.463 2.489,-2.463l13.63,0c1.376,0 2.482,1.112 2.482,2.463l0,24.539c0,1.286 1.735,1.715 2.328,0.596c9.348,-17.381 25.489,-29.64 46.081,-29.8c1.391,0 2.525,1.097 2.525,2.485l0,15.041l0.015,-0.007Z" fill="#181A18" fill-rule="nonzero"/>
    <path d="M971.311,369.746c16.251,0 27.949,-6.227 37.765,-15.855c0.937,-0.916 2.416,-0.93 3.389,-0.065l7.95,7.063c1.047,0.937 1.105,2.543 0.139,3.553c-12.239,12.847 -27.129,21.363 -49.734,21.363c-34.303,0 -62.339,-26.13 -62.339,-64.715c0,-35.954 25.372,-64.715 59.924,-64.715c36.975,0 58.24,29.24 58.24,65.681c0,1.17 0,2.456 -0.081,4.106c-0.059,1.322 -1.157,2.362 -2.489,2.362l-95.339,0c-0.747,0 -1.347,0.654 -1.244,1.381c3.184,25.265 22.224,39.835 43.819,39.835l0,0.007Zm35.093,-56.082c0.747,0 1.332,-0.647 1.237,-1.373c-2.555,-21.93 -15.578,-40.321 -39.72,-40.321c-21.075,0 -37.289,17.04 -40.415,40.307c-0.102,0.741 0.498,1.395 1.244,1.395l77.653,0l0,-0.007Z" fill="#181A18" fill-rule="nonzero"/>
</svg>`

const createTransitionableSVG = (): string => {
  let svg = SVG_MARKUP
  svg = svg.replace(/#181A18/gi, 'var(--logo-text-color)')
  svg = svg.replace(/#2a84f8/gi, 'var(--logo-rolemodel-color)')
  svg = svg.replace(/stroke="var/g, 'style="transition: stroke 0.3s ease-out;" stroke="var')
  return svg
}

const TRANSITIONABLE_SVG = createTransitionableSVG()

const getThemeColors = (
  theme: Theme,
  textColor?: string
): { roleModelColor: string; textColorValue: string } => {
  let roleModelColor = '#2a84f8'
  let textColorValue = textColor || '#181A18'

  if (theme === 'light') {
    roleModelColor = '#FFFFFF'
    if (!textColor) textColorValue = '#FFFFFF'
  } else if (theme === 'dark') {
    roleModelColor = textColorValue
  }

  return { roleModelColor, textColorValue }
}

const getThemedStaticSVG = (theme: Theme, textColor?: string): string => {
  let svg = STATIC_SVG_MARKUP

  if (theme === 'light') {
    svg = svg.replace(/#2a84f8/gi, '#FFFFFF')
    if (!textColor) svg = svg.replace(/#181A18/gi, '#FFFFFF')
  }
  if (theme === 'dark') {
    svg = svg.replace(/#2a84f8/gi, '#181A18')
  } else if (textColor) {
    svg = svg.replace(/#181A18/gi, textColor)
  }

  return svg
}

export default function RMLogoDrawOn(props: Props) {
  const {
    theme = 'default',
    trigger = 'load',
    duration = 0.6,
    stagger = 0.1,
    initialDelay = 0,
    easing = 'cubic-bezier(0.22, 1, 0.36, 1)',
    fadeIn = false,
    fadeDuration = 0.35,
    replay = false,
    replayDelay = 0.8,
    drawOrder = 'top-down',
    ghost = true,
    ghostColor = '#DADADA',
    ghostOpacity = 1,
    ghostGap = 0.1,
    autoPlay = true,
    overlap = 1,
    hoverTheme,
    isHovered = false,
    textColor,
    width = '100%',
    height = '100%',
    oncePerSession = false,
    sessionKey = 'default',
    style,
    className,
  } = props

  const hostRef = React.useRef<HTMLDivElement | null>(null)
  const rafRef = React.useRef<number | null>(null)
  const replayTimer = React.useRef<ReturnType<typeof setTimeout> | null>(null)
  const playedRef = React.useRef(false)
  const ghostClonesRef = React.useRef<SVGGraphicsElement[]>([])

  const activeTheme = isHovered && hoverTheme ? hoverTheme : theme
  const sessionStorageKey = `rm-logo-played-${sessionKey}`

  // Defer sessionStorage check to useEffect to prevent hydration mismatch.
  // Server always renders false; client updates after mount.
  const [hasPlayedThisSession, setHasPlayedThisSession] = React.useState(false)

  React.useEffect(() => {
    if (!oncePerSession) return
    try {
      setHasPlayedThisSession(sessionStorage.getItem(sessionStorageKey) === 'true')
    } catch {
      // sessionStorage unavailable
    }
  }, [oncePerSession, sessionStorageKey])

  const markAsPlayed = React.useCallback(() => {
    if (!oncePerSession) return
    try {
      sessionStorage.setItem(sessionStorageKey, 'true')
    } catch {
      // sessionStorage not available
    }
  }, [oncePerSession, sessionStorageKey])

  const effectiveGhostColor = React.useMemo(() => {
    if (ghostColor !== '#DADADA') return ghostColor
    switch (activeTheme) {
      case 'light':
      case 'blue-white':
        return '#CCCCCC'
      case 'dark':
        return '#FFFFFF'
      default:
        return ghostColor
    }
  }, [ghostColor, activeTheme])

  function collectGroupsById(
    svg: SVGSVGElement,
    drawOrderMode: DrawOrder,
    strokeOrder: Record<string, string[]> = {}
  ): { groups: SVGGraphicsElement[][]; reverseSet: Set<SVGGraphicsElement> } {
    const strokeEls = Array.from(
      svg.querySelectorAll(
        'g[clip-path] path, g[clip-path] line, g[clip-path] polyline, g[clip-path] polygon, g[clip-path] circle, g[clip-path] ellipse, g[clip-path] rect'
      )
    ) as SVGGraphicsElement[]

    const readInlineStyle = (el: Element, prop: string) => {
      const s = el.getAttribute('style') || ''
      const m = s.match(new RegExp(`${prop}\\s*:\\s*([^;]+)`, 'i'))
      return m?.[1]?.trim() || ''
    }

    const readStroke = (el: SVGGraphicsElement) =>
      (el.getAttribute('stroke') || readInlineStyle(el, 'stroke') || '').trim()

    const readStrokeWidth = (el: SVGGraphicsElement) => {
      const sw = el.getAttribute('stroke-width') || readInlineStyle(el, 'stroke-width') || ''
      const n = parseFloat(String(sw || '0'))
      return isFinite(n) ? n : 0
    }

    const readOpacity = (el: SVGGraphicsElement) => {
      const op = el.getAttribute('opacity') || readInlineStyle(el, 'opacity') || '1'
      const n = parseFloat(String(op || '1'))
      return isFinite(n) ? n : 1
    }

    const isDrawableStroke = (el: SVGGraphicsElement) => {
      const stroke = readStroke(el)
      const sw = readStrokeWidth(el)
      const op = readOpacity(el)
      return !!stroke && stroke !== 'none' && sw > 0 && op !== 0
    }

    const glyphMap = new Map<string, { items: SVGGraphicsElement[] }>()
    const glyphSeen: string[] = []

    for (const el of strokeEls) {
      if (!isDrawableStroke(el)) continue
      const g = el.closest('g[clip-path]') as SVGGElement | null
      if (!g) continue
      const clip = g.getAttribute('clip-path') || ''
      const clipId = clip.match(/url\(#([^)]+)\)/)?.[1]
      if (!clipId) continue
      const glyphId = clipId.replace(/^_/, '')
      if (!glyphMap.has(glyphId)) {
        glyphMap.set(glyphId, { items: [] })
        glyphSeen.push(glyphId)
      }
      glyphMap.get(glyphId)!.items.push(el)
    }

    const allGlyphIds =
      drawOrderMode === 'top-down'
        ? [
            ...GLYPH_ORDER.filter((id) => glyphMap.has(id)),
            ...glyphSeen.filter((id) => glyphMap.has(id) && !GLYPH_ORDER.includes(id)),
          ]
        : glyphSeen.filter((id) => glyphMap.has(id))

    const reverseSet = new Set<SVGGraphicsElement>()
    const groups: SVGGraphicsElement[][] = []

    for (const glyphId of allGlyphIds) {
      const entry = glyphMap.get(glyphId)!
      const preferred = strokeOrder[glyphId]
      const byId = new Map<string, SVGGraphicsElement>()
      for (const el of entry.items) {
        const id = el.id?.trim()
        if (id) byId.set(id, el)
      }

      if (preferred?.length) {
        const sorted: SVGGraphicsElement[] = []
        for (const token of preferred) {
          const reverse = token.startsWith('!')
          const sid = reverse ? token.slice(1) : token
          const hit = byId.get(sid)
          if (hit) {
            sorted.push(hit)
            if (reverse) reverseSet.add(hit)
          }
        }
        for (const el of entry.items) {
          if (!sorted.includes(el)) sorted.push(el)
        }
        groups.push(sorted)
        continue
      }
      groups.push(entry.items)
    }

    return { groups, reverseSet }
  }

  const play = React.useCallback(() => {
    if (!hostRef.current || typeof window === 'undefined') return
    if (playedRef.current && !replay) return
    playedRef.current = true
    markAsPlayed()

    ghostClonesRef.current.forEach((n) => n.remove())
    ghostClonesRef.current = []

    if (replayTimer.current) clearTimeout(replayTimer.current)
    if (rafRef.current) cancelAnimationFrame(rafRef.current)

    const svg =
      (hostRef.current as unknown as SVGSVGElement).tagName?.toLowerCase() === 'svg'
        ? (hostRef.current as unknown as SVGSVGElement)
        : (hostRef.current.querySelector('svg') as SVGSVGElement | null)

    if (!svg) return

    const { groups: originalGroups, reverseSet } = collectGroupsById(svg, drawOrder, STROKE_ORDER)
    const originals = originalGroups.flat()
    if (!originals.length) return

    const lenMap = new WeakMap<SVGGraphicsElement, number>()
    const ghostReverseSet = new Set<SVGGraphicsElement>()
    const ghostGroups: SVGGraphicsElement[][] = []

    if (ghost) {
      originalGroups.forEach((group) => {
        const clones: SVGGraphicsElement[] = []
        group.forEach((orig) => {
          const clone = orig.cloneNode(true) as SVGGraphicsElement
          clone.style.setProperty('stroke', effectiveGhostColor, 'important')
          clone.style.setProperty('fill', 'none', 'important')
          orig.parentNode?.insertBefore(clone, orig)
          ghostClonesRef.current.push(clone)
          clones.push(clone)
          if (reverseSet.has(orig)) ghostReverseSet.add(clone)
        })
        ghostGroups.push(clones)
      })
    }

    const ghosts = ghostGroups.flat()

    const prep = (el: SVGGraphicsElement) => {
      let len = 0
      try {
        len = (el as SVGGeometryElement).getTotalLength?.() ?? 0
      } catch {
        len = 0
      }
      if (!len || !isFinite(len)) return 0
      lenMap.set(el, len)
      el.style.transition = 'none'
      el.style.strokeDasharray = `${len} ${len}`
      el.style.strokeDashoffset = `${len}`
      el.style.willChange = 'stroke-dashoffset, opacity'
      if (fadeIn) el.style.opacity = '0'
      el.getBoundingClientRect()
      return len
    }

    ghosts.forEach(prep)
    originals.forEach(prep)

    rafRef.current = requestAnimationFrame(() => {
      const base = initialDelay || 0
      const phase = Math.max(duration || 0, fadeIn ? fadeDuration || 0 : 0)
      const step = duration * (1 - (overlap || 0)) + (stagger || 0)

      ghostGroups.forEach((groupEls, gi) => {
        const d = base + gi * step
        groupEls.forEach((el) => {
          const len = lenMap.get(el) || 0
          if (!len) return
          const dash = `stroke-dashoffset ${duration}s ${easing} ${d}s`
          const fade = fadeIn ? `, opacity ${fadeDuration}s ${easing} ${d}s` : ''
          el.style.transition = dash + fade
          el.style.strokeDashoffset = ghostReverseSet.has(el) ? `${2 * len}` : '0'
          if (fadeIn) el.style.opacity = String(ghostOpacity)
        })
      })

      const ghostTotal = ghost
        ? base + (originalGroups.length - 1) * step + phase + (ghostGap || 0)
        : 0

      originalGroups.forEach((groupEls, gi) => {
        const d = (ghost ? ghostTotal : base) + gi * step
        groupEls.forEach((el) => {
          const len = lenMap.get(el) || 0
          if (!len) return
          const dash = `stroke-dashoffset ${duration}s ${easing} ${d}s`
          const fade = fadeIn ? `, opacity ${fadeDuration}s ${easing} ${d}s` : ''
          el.style.transition = dash + fade
          el.style.strokeDashoffset = reverseSet.has(el) ? `${2 * len}` : '0'
          el.style.opacity = '1'
        })
      })
    })

    if (replay) {
      const n = originalGroups.length
      const step = duration * (1 - (overlap || 0)) + (stagger || 0)
      const phase = Math.max(duration || 0, fadeIn ? fadeDuration || 0 : 0)
      const layerStart = ghost
        ? (initialDelay || 0) + (n - 1) * step + phase + (ghostGap || 0)
        : initialDelay || 0
      const total = layerStart + (n - 1) * step + phase + (replayDelay || 0)

      replayTimer.current = setTimeout(() => {
        playedRef.current = false
        play()
      }, Math.max(0, total * 1000))
    }
  }, [
    drawOrder,
    duration,
    easing,
    effectiveGhostColor,
    fadeIn,
    fadeDuration,
    ghost,
    ghostGap,
    ghostOpacity,
    initialDelay,
    markAsPlayed,
    overlap,
    replay,
    replayDelay,
    stagger,
  ])

  React.useEffect(() => {
    if (!autoPlay) return
    if (!hostRef.current) return

    if (trigger === 'load') {
      const t = setTimeout(play, 0)
      return () => clearTimeout(t)
    }

    const el = hostRef.current
    const io = new IntersectionObserver(
      (entries) => {
        if (entries.some((e) => e.isIntersecting)) play()
      },
      { threshold: 0.35 }
    )
    io.observe(el)
    return () => io.disconnect()
  }, [play, trigger, autoPlay])

  React.useEffect(() => {
    return () => {
      if (rafRef.current) cancelAnimationFrame(rafRef.current)
      if (replayTimer.current) clearTimeout(replayTimer.current)
    }
  }, [])

  if (hasPlayedThisSession) {
    return (
      <div
        style={{ width, height, display: 'grid', placeItems: 'center', ...style }}
        className={className}
        dangerouslySetInnerHTML={{ __html: getThemedStaticSVG(activeTheme, textColor) }}
      />
    )
  }

  const { roleModelColor, textColorValue } = getThemeColors(activeTheme, textColor)

  return (
    <div
      ref={hostRef}
      style={
        {
          width,
          height,
          display: 'grid',
          placeItems: 'center',
          '--logo-rolemodel-color': roleModelColor,
          '--logo-text-color': textColorValue,
          ...style,
        } as React.CSSProperties
      }
      className={className}
      dangerouslySetInnerHTML={{ __html: TRANSITIONABLE_SVG }}
    />
  )
}
