@source "../node_modules/streamdown/dist/index.js";

/* -------------------------------------------------
   CSS Layers Definition
   Define layers BEFORE any imports
   Layer order: optics (lowest) -> utilities -> overrides -> app (highest)
   ------------------------------------------------- */
@layer frameworks, theme, global, overrides, utilities;

/* -------------------------------------------------
   Import Optics into the optics layer (lowest priority)
   This allows our layers to override Optics styles
   ------------------------------------------------- */
@import 'https://cdn.jsdelivr.net/npm/@rolemodel/optics@2.2.0/dist/css/optics.min.css' layer(frameworks);

/* -------------------------------------------------
   Import App Styles with Layers
   ------------------------------------------------- */
@import '../styles/theme.css' layer(theme);
@import '../styles/shadows.css' layer(utilities);
@import '../styles/utilities.css' layer(utilities);
@import '../styles/overrides.css' layer(overrides);
@import '../styles/ai-elements.css' layer(frameworks);
@import '../styles/animations.css' layer(frameworks);
@import '../styles/admin.css' layer(global);

/* -------------------------------------------------
   Optics Variable Overrides (unlayered - highest priority)
   These MUST be unlayered to override Optics :root variables
   ------------------------------------------------- */

/* -------------------------------------------------
   Optics overrides + app globals
   ------------------------------------------------- */

/* -------------------------------------------------
   Global Helpers
   ------------------------------------------------- */

@layer global {
  h1,
  h2,
  h3,
  h4,
  h5 {
    letter-spacing: -0.04em;
  }

  .icon-sm {
    width: var(--op-space-medium);
    height: var(--op-space-medium);
  }

  .btn svg {
    stroke-width: 2;
  }

  .inner-shadow {
    box-shadow: inset 0 2px 4px 0 var(--op-shadow-color);
  }

  /* Loading animation */
  @keyframes blink {
    0%,
    100% {
      opacity: 0.2;
    }
    50% {
      opacity: 1;
    }
  }

  .loading-dots span {
    animation: blink 1.4s infinite;
  }

  .loading-dots span:nth-child(2) {
    animation-delay: 0.2s;
  }

  .loading-dots span:nth-child(3) {
    animation-delay: 0.4s;
  }

  /* Alert component */
  .alert {
    padding: var(--op-space-medium);
    border-radius: var(--op-radius-medium);
    border: 1px solid var(--op-color-border);
  }

  .badge--outline {
    border-color: var(--op-color-border);
    border-width: var(--op-border-width);
    border-style: solid;
    border-radius: var(--op-radius-small);
    padding: var(--op-space-2x-small) var(--op-space-small);
    font-size: var(--op-font-small);
    font-weight: var(--op-font-weight-medium);
    color: var(--op-color-neutral-on-plus-max);
    background-color: var(--op-color-background);
  }

  .contents {
    width: 100%;
  }
  .grid {
    position: absolute;
    z-index: 0;
    inset: 0;
    background-image: radial-gradient(
      var(--grid-color) var(--op-border-width),
      transparent 0
    );
    background-size: var(--op-space-scale-unit) var(--op-space-scale-unit);
    pointer-events: none;
  }

  .grid.grid--dark {
    --grid-color: var(--blue-green-700);
    z-index: 0;
  }

  .gradient {
    filter: blur(var(--op-space-x-small));
    pointer-events: none;
    z-index: 0;
    background-image: var(--light-gradient);
    height: var(--op-space-large);
    position: absolute;
    left: 5%;
    right: 5%;
    top: 86%;
  }
}
